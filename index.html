<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MovieLibrary</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>
  <body>
    <header class="search">
      <a class="menu">menu</a>
      <form id="form" type="submit">
        <input id="input" class="searchinput" />
        <button class="searchbutton" type="submit">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="1em"
            viewBox="0 0 512 512"
            class="searchicon"
          >
            <path
              d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"
            />
          </svg>
        </button>
      </form>
    </header>
    <div id="image"></div>
    <script>
      const APIKEY = "7356f6c781f842026367b8baa225abdb";
      function setupSearch() {
        document.querySelector("#form").addEventListener("submit", (event) => {
          event.preventDefault();
          const input = document.querySelector("#input").value;
          $.ajax({
            url: `https://api.themoviedb.org/3/search/movie?query=${input}&api_key=${APIKEY}`,
            type: "GET",
            success: (result) => {
              var posterpath = result.results[0].poster_path;
              document.querySelector(
                "#image"
              ).innerHTML = `<img src="https://image.tmdb.org/t/p/w500/${posterpath}">`;
            },
            error: (error) => {
              console.log(error);
            },
          });
        });
      }
      setupSearch();
    </script>
  </body>
</html>
<style>
  .searchicon {
    display: flex;
    position: absolute;
    top: 3px;
    right: 17px;
    height: 3vh;
  }

  .searchbutton {
    background: none;
    border: none;
  }

  .searchinput {
    width: 100vh;
    height: 3vh;
  }

  .search {
    display: flex;
    position: absolute;
  }
</style>
